{% extends 'base.html' %}

{% block content %}
    <main class="container">
        <div class="genre__search-wrapper">
            <div class="genre__search-title">
                <h3>
                    Search your favourite genres
                </h3>
            </div>
            <div class="genre__search-links">
                {% for genre in genres %}
                <a href="{{url_for('product.product_by_genre', genre=genre)}}" class="genre__search-link">{{genre}}</a>
                {% endfor %}
            </div>
        </div>
        <div class="sort__form-wrapper">
            <form action="" method="GET" class="sort__form">
                <select name="sort" id="sort">
                    <option value="artist">Artist Name</option>
                    <option value="title">Title</option>
                    <option value="price">Price (L-H)</option>
                </select>
                <input type="submit" value="Sort Products">
            </form>
        </div>
        
        {% for product in products  %}
        <div class="product_wrapper">
            <div class="product__img-wrapper">
                <img src="{{product.img_url}}" 
                alt="{{product.title}}, {{product.artist}}" 
                class="product__img">
            </div>
            <div class="product_details">
                    <p>{{product.title}}</p>
                    <a href="{{url_for('product.get_artist', artist=product.artist)}}'" class="product_details-link">{{product.artist}}</a>
                    <p>Â£{{product.price}}</p>
            </div>
            <div class="product_link">
                <a href="{{url_for('product.product_page', id=product.id)}}" class="cta">
                    View More
                </a>
            </div>
        </div>
        </div>
            
            {% endfor %}
    </main>
{% endblock %}